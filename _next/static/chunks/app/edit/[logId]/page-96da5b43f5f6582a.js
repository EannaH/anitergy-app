(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[239],{5123:(e,a,r)=>{Promise.resolve().then(r.bind(r,13126))},13126:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>i});var t=r(95155),s=r(12115),l=r(66658),n=r(47982),o=r(27058),d=r(14565);function i(){let e=(0,l.useRouter)(),{logId:a}=(0,l.useParams)(),[r,i]=(0,s.useState)(null),[c,u]=(0,s.useState)(0),[p,g]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[b,x]=(0,s.useState)([]),[y,j]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=(0,d.hg)(n.j,async e=>{i(e),e&&await v(e.uid,a)});return()=>e()},[a]);let v=async(e,a)=>{try{let r=(0,o.H9)(n.db,"users",e,"energy_logs",a),t=await (0,o.x7)(r);if(t.exists()){let e=t.data();u(e.energy),g(e.situation),h(e.trigger),x(e.emotions||[])}}catch(e){console.error("Error fetching log:",e)}},f=async t=>{if(t.preventDefault(),r){j(!0);try{let t=(0,o.H9)(n.db,"users",r.uid,"energy_logs",a);await (0,o.mZ)(t,{energy:c,situation:p,trigger:m,emotions:b}),e.push("/")}catch(e){console.error("Error updating log:",e)}j(!1)}};return(0,t.jsxs)("div",{className:"max-w-lg mx-auto p-4 bg-white shadow-lg rounded-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Your Energy Log"}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4 bg-gray-100 p-4 rounded-md shadow-md",children:[(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-700",children:"Energy Level (-10 to +10):"}),(0,t.jsx)("input",{type:"number",min:"-10",max:"10",value:c,onChange:e=>u(parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md p-2"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-700",children:"Situation:"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",placeholder:"E.g., Work Meeting"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-700",children:"Trigger:"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",placeholder:"E.g., Boss"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-700",children:"Emotions:"}),(0,t.jsxs)("select",{multiple:!0,value:b,onChange:e=>x(Array.from(e.target.selectedOptions,e=>e.value)),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[(0,t.jsx)("option",{value:"Happy",children:"Happy"}),(0,t.jsx)("option",{value:"Excited",children:"Excited"}),(0,t.jsx)("option",{value:"Frustrated",children:"Frustrated"}),(0,t.jsx)("option",{value:"Tired",children:"Tired"}),(0,t.jsx)("option",{value:"Motivated",children:"Motivated"}),(0,t.jsx)("option",{value:"Anxious",children:"Anxious"}),(0,t.jsx)("option",{value:"Calm",children:"Calm"}),(0,t.jsx)("option",{value:"Overwhelmed",children:"Overwhelmed"})]})]}),(0,t.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",disabled:y,children:y?"Updating...":"Update Log"})]}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"mt-4 bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600",children:"Cancel & Go Back"})]})}},47982:(e,a,r)=>{"use strict";r.d(a,{M:()=>i,db:()=>o,j:()=>d});var t=r(49904),s=r(27058),l=r(14565);let n=(0,t.Wp)({apiKey:"AIzaSyCg7yFjUejqgh21gLK2sbeviBcwGjyaXYY",authDomain:"energy-tracker-app.firebaseapp.com",projectId:"energy-tracker-app",storageBucket:"energy-tracker-app.firebasestorage.app",messagingSenderId:"626832007055",appId:"1:626832007055:web:3dad3ddb4f578cb80ab5fa"}),o=(0,s.aU)(n),d=(0,l.xI)(n),i=new l.HF}},e=>{var a=a=>e(e.s=a);e.O(0,[992,888,861,441,587,358],()=>a(5123)),_N_E=e.O()}]);